
listen {{ haproxy_stats.name }} {%if haproxy_stats.ip is defined %}{{ haproxy_stats.ip }}{% endif %}{%if haproxy_stats.port is defined %}:{{ haproxy_stats.port }}{% endif %}

{% if haproxy_stats.stats is defined %}
{% if haproxy_stats.stats.enabled is defined and haproxy_stats.stats.enabled == True %}
    stats enable
{% endif %}
{% if haproxy_stats.stats.hide_version is defined and haproxy_stats.stats.hide_version == true %}
    stats hide-version
{% endif %}
{% if haproxy_stats.stats.uri is defined %}
    stats uri {{ haproxy_stats.stats.uri }}
{% endif %}
{% if haproxy_stats.stats.realm is defined %}
    stats realm {{ haproxy_stats.stats.realm }}
{% endif %}
{% if haproxy_stats.stats.auth is defined %}
    stats auth {{ haproxy_stats.stats.auth }}
{% endif %}
{% if haproxy_stats.stats.refresh is defined %}
    stats refresh {{ haproxy_stats.stats.refresh }}
{% endif %}
{% endif -%}
